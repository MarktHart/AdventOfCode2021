a=[[[int(d)for d in c.split(',')]for c in b.split('->')]for b in open('i')];b=[(range(min(x),max(x)+1),range(min(y),max(y)+1))for x,y in[[d for d in zip(*c)]for c in a]if x[0]==x[1]or y[0]==y[1]];c=sorted((x,y)for d in b for x in d[0]for y in d[1]);print(len(set(e for e,f in zip(c,c[1:])if e==f)))