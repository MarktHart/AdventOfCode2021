f=lambda x,y:iter(lambda:x,~x)if x==y else range(x,y+(x<y)*2-1,(x<y)*2-1);b=sorted(e for x,y in[zip(*[map(int,c.split(','))for c in b.split('->')])for b in open('i')]for e in zip(f(*x),f(*y)));print(len({e for e,f in zip(b,b[1:])if e==f}))