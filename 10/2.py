d='_([{<>}])';e=d.index;g=lambda b,q,r,*t:(g(b,[r]+q,*t)if e(r)<5else 0if d[-e(r)]!=q[0]else g(b,q[1:],*t))if t else g(b*5+e(q[0]),q[1:],r)if q else b;o=sorted(p for r in open('i')if(p:=g(0,[],*r)));print(o[len(o)//2])